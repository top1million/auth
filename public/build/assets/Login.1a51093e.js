import{r as b,T as V,j as $,l as C,d as c,b as e,u as s,w as m,F as K,o as i,Z as N,t as k,e as p,a as o,k as _,f as d,c as B,y as S,n as U,O as F}from"./app.68da1afe.js";import{J as R}from"./AuthenticationCard.06ebc07c.js";import{_ as j}from"./AuthenticationCardLogo.36ed6873.js";import{_ as q}from"./Button.64ca3b3a.js";import{_ as v}from"./SecondaryButton.af35b469.js";import{_ as w}from"./Input.0751bc64.js";import{_ as L}from"./Checkbox.ae3d860c.js";import{_ as x}from"./Label.24c07f87.js";import{_ as O}from"./ValidationErrors.58a7d232.js";import P from"./WebauthnLogin.aca01803.js";import"./_plugin-vue_export-helper.cdc0426e.js";import"./InputError.b8b84cca.js";import"./WaitForKey.9cd4c192.js";import"./index.d83b2790.js";const E={key:0,class:"mb-4 font-medium text-sm text-green-600"},J={key:1},M={class:"mb-4 text-lg text-gray-900 dark:text-slate-100 text-center"},T=o("div",{class:"mb-4 max-w-xl text-gray-600 dark:text-gray-400"}," Connect with your security key ",-1),z=["onSubmit"],A={class:"mt-4"},D={class:"block mt-4"},Z={class:"flex items-center"},G=o("span",{class:"ml-2 text-sm text-gray-600 dark:text-gray-200"},"Remember me",-1),H={class:"flex items-center justify-end mt-4"},I={key:0,class:"block mt-4"},ue={__name:"Login",props:{canResetPassword:Boolean,status:String,publicKey:Object,userName:String},setup(r){const y=r,f=b(!0),n=b(null),t=V({email:"",password:"",remember:!1});$(()=>y.publicKey,u=>{n.value=u}),C(()=>{n.value=y.publicKey});const g=()=>{t.transform(u=>({...u,remember:t.remember?"on":""})).post(route("login"),{onFinish:()=>t.reset("password")})},h=()=>{n.value=null,f.value=!0,F.reload({only:["publicKey"]})};return(u,a)=>(i(),c(K,null,[e(s(N),{title:"Log in"}),e(R,null,{logo:m(()=>[e(j)]),default:m(()=>[e(O,{class:"mb-4"}),r.status?(i(),c("div",E,k(r.status),1)):p("",!0),r.publicKey&&f.value?(i(),c("div",J,[o("div",M,k(r.userName),1),T,e(P,{remember:!0,"public-key":n.value},null,8,["public-key"]),e(v,{class:"mr-2 mt-4",onClick:a[0]||(a[0]=_(l=>f.value=!1,["prevent"]))},{default:m(()=>[d(" Use your password ")]),_:1})])):(i(),c("form",{key:2,onSubmit:_(g,["prevent"])},[o("div",null,[e(x,{for:"email",value:"Email"}),e(w,{id:"email",modelValue:s(t).email,"onUpdate:modelValue":a[1]||(a[1]=l=>s(t).email=l),type:"email",class:"mt-1 block w-full",required:"",autofocus:""},null,8,["modelValue"])]),o("div",A,[e(x,{for:"password",value:"Password"}),e(w,{id:"password",modelValue:s(t).password,"onUpdate:modelValue":a[2]||(a[2]=l=>s(t).password=l),type:"password",class:"mt-1 block w-full",required:"",autocomplete:"current-password"},null,8,["modelValue"])]),o("div",D,[o("label",Z,[e(L,{checked:s(t).remember,"onUpdate:checked":a[3]||(a[3]=l=>s(t).remember=l),name:"remember"},null,8,["checked"]),G])]),o("div",H,[r.canResetPassword?(i(),B(s(S),{key:0,href:u.route("password.request"),class:"underline text-sm text-gray-600 hover:text-gray-900 dark:text-slate-100"},{default:m(()=>[d(" Forgot your password? ")]),_:1},8,["href"])):p("",!0),e(q,{class:U(["ml-4",{"opacity-25":s(t).processing}]),disabled:s(t).processing},{default:m(()=>[d(" Log in ")]),_:1},8,["class","disabled"])]),n.value?(i(),c("div",I,[e(v,{class:"mr-2",onClick:_(h,["prevent"])},{default:m(()=>[d(" Use your security key ")]),_:1},8,["onClick"])])):p("",!0)],40,z))]),_:1})],64))}};export{ue as default};
