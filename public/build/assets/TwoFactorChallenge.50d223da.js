import{r as d,T as h,d as t,b as e,u as a,w as y,F as s,o as r,Z as w,e as p,a as i,f as n,k as v,n as C,E as V}from"./app.68da1afe.js";import{J as $}from"./AuthenticationCard.06ebc07c.js";import{_ as B}from"./AuthenticationCardLogo.36ed6873.js";import{_ as K}from"./Button.64ca3b3a.js";import{_ as b}from"./Input.0751bc64.js";import{_ as k}from"./Label.24c07f87.js";import{_ as T}from"./ValidationErrors.58a7d232.js";import I from"./WebauthnLogin.aca01803.js";import"./_plugin-vue_export-helper.cdc0426e.js";import"./InputError.b8b84cca.js";import"./WaitForKey.9cd4c192.js";import"./index.d83b2790.js";const N={key:0},U=i("h1",{class:"mb-4 max-w-xl text-gray-600 dark:text-gray-400"}," Please confirm access to your account by validating your security key. ",-1),F={key:1},P={class:"mb-4 text-sm text-gray-600 dark:text-gray-400"},j=["onSubmit"],E={key:0},J={key:1},R={class:"flex items-center justify-end mt-4"},S=["onClick"],Y={__name:"TwoFactorChallenge",props:{two_factor:Boolean,remember:Boolean,publicKey:Object},setup(l){const c=d(!1),o=h({code:"",recovery_code:""}),f=d(null),_=d(null),g=async()=>{c.value^=!0,await V(),c.value?(f.value.focus(),o.code=""):(_.value.focus(),o.recovery_code="")},x=()=>{o.post(route("two-factor.login"))};return(z,u)=>(r(),t(s,null,[e(a(w),{title:"Two-factor Confirmation"}),e($,null,{logo:y(()=>[e(B)]),default:y(()=>[l.publicKey?(r(),t("div",N,[U,e(I,{remember:l.remember,publicKey:l.publicKey},null,8,["remember","publicKey"])])):p("",!0),l.two_factor?(r(),t("div",F,[i("div",P,[c.value?(r(),t(s,{key:1},[n(" Please confirm access to your account by entering one of your emergency recovery codes. ")],64)):(r(),t(s,{key:0},[n(" Please confirm access to your account by entering the authentication code provided by your authenticator application. ")],64))]),e(T,{class:"mb-4"}),i("form",{onSubmit:v(x,["prevent"])},[c.value?(r(),t("div",J,[e(k,{for:"recovery_code",value:"Recovery Code"}),e(b,{id:"recovery_code",ref_key:"recoveryCodeInput",ref:f,modelValue:a(o).recovery_code,"onUpdate:modelValue":u[1]||(u[1]=m=>a(o).recovery_code=m),type:"text",class:"mt-1 block w-full",autocomplete:"one-time-code"},null,8,["modelValue"])])):(r(),t("div",E,[e(k,{for:"code",value:"Code"}),e(b,{id:"code",ref_key:"codeInput",ref:_,modelValue:a(o).code,"onUpdate:modelValue":u[0]||(u[0]=m=>a(o).code=m),type:"text",inputmode:"numeric",class:"mt-1 block w-full",autofocus:"",autocomplete:"one-time-code"},null,8,["modelValue"])])),i("div",R,[i("button",{type:"button",class:"text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:text-slate-100 underline cursor-pointer",onClick:v(g,["prevent"])},[c.value?(r(),t(s,{key:1},[n(" Use an authentication code ")],64)):(r(),t(s,{key:0},[n(" Use a recovery code ")],64))],8,S),e(K,{class:C(["ml-4",{"opacity-25":a(o).processing}]),disabled:a(o).processing},{default:y(()=>[n(" Log in ")]),_:1},8,["class","disabled"])])],40,j)])):p("",!0)]),_:1})],64))}};export{Y as default};
